2025-09-01 01:28:05,201 - MarketRegimeScanner - INFO - Using local timezone: America/Chicago
2025-09-01 01:28:05,201 - MarketRegimeScanner - INFO - Database path: C:\Users\kyung\StockScanner\core\ticker_data.db
2025-09-01 01:28:05,202 - MarketRegimeScanner - INFO - Using composite indices: ^IXIC
2025-09-01 01:28:05,204 - MarketRegimeScanner - INFO - Market regime database path: C:\Users\kyung\StockScanner\core\market_regime_data.db
2025-09-01 01:28:05,227 - MarketRegimeScanner - INFO - Loaded 3251 tickers from database
2025-09-01 01:28:05,230 - MarketRegimeScanner - INFO - Ticker scanner started
2025-09-01 01:28:05,231 - MarketRegimeScanner - INFO - Market regime scanner started
2025-09-01 01:28:05,233 - MarketRegimeScanner - INFO - Starting immediate ticker scan on startup
2025-09-01 01:28:05,234 - MarketRegimeScanner - INFO - Starting full ticker refresh
2025-09-01 01:28:05,234 - MarketRegimeScanner - INFO - Fetching tickers for composite index ^IXIC
2025-09-01 01:28:06,495 - MarketRegimeScanner - INFO - Completed ^IXIC: 3251 stocks across 6 pages
2025-09-01 01:28:06,577 - MarketRegimeScanner - INFO - Ticker refresh completed in 1.34s
2025-09-01 01:28:06,577 - MarketRegimeScanner - INFO - Total: 3251 | Added: 0 | Removed: 0
2025-09-01 01:28:06,578 - MarketRegimeScanner - INFO - Database: 0 inserted, 3251 updated
2025-09-01 01:28:06,580 - MarketRegimeScanner - INFO - Initial ticker scan completed successfully
2025-09-01 01:28:06,581 - MarketRegimeScanner - INFO - Next ticker refresh scheduled at 2025-09-01 08:30:00-05:00 (7.0 hours and 1.0 minutes from now)
2025-09-01 01:28:07,249 - MarketRegimeScanner - INFO - Waiting for initial ticker scan to complete before starting market regime scan
2025-09-01 01:28:12,256 - MarketRegimeScanner - INFO - Starting immediate market regime scan
2025-09-01 01:28:12,257 - MarketRegimeScanner - INFO - Starting market regime scan
2025-09-01 01:28:12,257 - MarketRegimeScanner - INFO - Fetching 365 days of market data for regime analysis
2025-09-01 01:28:12,414 - MarketRegimeScanner - INFO - Fetched market data with shape: (249, 1)
2025-09-01 01:28:12,492 - MarketRegimeScanner - INFO - Calculated advanced features with shape: (199, 13)
2025-09-01 01:28:14,219 - MarketRegimeScanner - INFO - Enhanced ensemble model training completed
2025-09-01 01:28:14,220 - MarketRegimeScanner - INFO - PCA explained variance ratio: 0.998
2025-09-01 01:28:14,238 - MarketRegimeScanner - INFO - Current market regime: Bear Market (confidence: 0.67)
2025-09-01 01:28:14,239 - MarketRegimeScanner - INFO - Market regime scan completed in 1.98s
2025-09-01 01:28:14,239 - MarketRegimeScanner - INFO - Initial market regime scan completed successfully
2025-09-01 01:28:14,239 - MarketRegimeScanner - INFO - Next market regime scan at 02:00:00 (0.0 hours and 31.0 minutes from now)
2025-09-01 02:00:14,124 - MarketRegimeScanner - INFO - Starting scheduled market regime scan
2025-09-01 02:00:14,124 - MarketRegimeScanner - INFO - Starting market regime scan
2025-09-01 02:00:14,124 - MarketRegimeScanner - INFO - Fetching 365 days of market data for regime analysis
2025-09-01 02:00:14,338 - MarketRegimeScanner - INFO - Fetched market data with shape: (249, 1)
2025-09-01 02:00:14,417 - MarketRegimeScanner - INFO - Calculated advanced features with shape: (199, 13)
2025-09-01 02:00:14,430 - MarketRegimeScanner - ERROR - Database connection error: no such table: market_regimes
2025-09-01 02:00:14,431 - MarketRegimeScanner - ERROR - Database query error: no such table: market_regimes, Query: SELECT * FROM market_regimes ORDER BY timestamp DESC LIMIT 1000, Params: ()
2025-09-01 02:00:14,432 - MarketRegimeScanner - ERROR - Database connection error: no such table: market_regimes
2025-09-01 02:00:14,432 - MarketRegimeScanner - ERROR - Database write error: no such table: market_regimes, Query: INSERT OR REPLACE INTO market_regimes 
            (timestamp, regime, regime_label, confidence, features, model_version) 
            VALUES (?, ?, ?, ?, ?, ?), Params: ('2025-09-01 02:00:14', np.int64(0), 'Bear Market', np.float64(0.6670869576585461), '{"^IXIC_return": 0.006651884700665134, "^IXIC_volatility_ratio": 1.0387919172424633, "^IXIC_momentum_ratio": 1.155581283934845, "^IXIC_volatility_clustering": 0.29809684283782834, "^IXIC_jumps": 1.0, "^IXIC_rsi": 63.42281879194632, "^IXIC_macd": 0.478824792168254, "^IXIC_macd_signal": 0.4878626345518451, "^IXIC_bollinger_upper": 9.579039237730957, "^IXIC_bollinger_lower": 7.787960762269042, "^IXIC_bollinger_pct": 0.7213750013928031, "market_breadth": 0.4, "term_structure": 0.0, "anomaly_score": -0.4871697931748605, "model_agreement": 0.5}', 'enhanced_v3.0')
2025-09-01 02:00:14,432 - MarketRegimeScanner - INFO - Current market regime: Bear Market (confidence: 0.67)
2025-09-01 02:00:14,432 - MarketRegimeScanner - INFO - Market regime scan completed in 0.31s
2025-09-01 02:00:14,433 - MarketRegimeScanner - INFO - Scheduled market regime scan completed successfully
2025-09-01 02:00:14,433 - MarketRegimeScanner - INFO - Next market regime scan at 03:00:00 (0.0 hours and 59.0 minutes from now)
2025-09-01 02:08:07,133 - MarketRegimeScanner - INFO - Ticker scanner stopped
2025-09-01 02:08:07,133 - MarketRegimeScanner - INFO - Market regime scanner stopped
2025-09-01 02:08:07,134 - MarketRegimeScanner - INFO - Sleep interrupted by shutdown
2025-09-01 02:08:07,134 - MarketRegimeScanner - INFO - Main task cancelled
2025-09-01 02:08:07,134 - MarketRegimeScanner - INFO - Ticker scanner stopped
2025-09-01 02:08:07,134 - MarketRegimeScanner - INFO - Ticker scanner shutdown complete
2025-09-01 02:08:07,134 - MarketRegimeScanner - INFO - Market regime scanner stopped
2025-09-01 02:08:07,134 - MarketRegimeScanner - INFO - Market regime scanner shutdown complete
2025-09-01 02:08:07,134 - MarketRegimeScanner - INFO - Sleep interrupted by shutdown
